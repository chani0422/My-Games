🃏 BlackJack プロジェクト概要
お帰りなさい！久しぶりの開発再開ですね。 現在のプロジェクト構成と、各ファイルの役割を「ガイドツアー（Walkthrough）」形式でまとめました。これを見れば、どこをどう触れば良いかがすぐに分かります。

🏗️ アーキテクチャの全体像
このゲームは C++ で書かれた堅牢なロジック を WebAssembly (Wasm) にコンパイルし、HTML/JS のリッチな UI で操作するハイブリッド構成です。

Truth (真実): 
BlackJack.cpp
 (C++ / Wasm) が全てのルール、状態、計算を管理します。
View (表示): 
index.html
 (JS) は、Wasm から受け取った状態 (JSON) を描画するだけの「ダム端末」として機能します。
📂 ファイル構成ガイド
1. ゲームエンジン (The Brain) 🧠
ここがゲームの心臓部です。

BlackJack.cpp
正体: ゲームロジックの 全て です。
役割:
deal
, 
hit
, 
stand
 などのアクション処理。
カードのシャッフル、点数計算、勝敗判定。
重要: UI に表示すべき全ての情報を 
get_state_json()
 という関数で JSON 文字列として返します。
開発メモ: ルールを変更したい場合（例：配当を変える、デッキ数を変える）はここを編集します。
2. ビルド & ツール (The Tools) 🛠️
C++ をブラウザで動く形にするための道具です。

build_v2.sh

正体: コンパイル用スクリプトです。
役割: 
BlackJack.cpp
 を Emscripten (emcc) を使ってビルドし、blackjack.js と blackjack.wasm を生成します。
開発メモ: C++ を変更したら、必ずこれを実行してください（
./build_v2.sh
）。
blackjack.js / blackjack.wasm

正体: ビルドの成果物（生成ファイル）。
役割: ブラウザが実際に読み込むコードです。人間が直接編集することはありません。
3. フロントエンド (The Face) 🎨
ユーザーが見て触る部分です。

index.html

正体: メインのアプリケーションファイル。
役割:
UI: カジノ風のダークテーマ、グラデーション、カードのアニメーションなどの CSS が大量に含まれています。
Logic: インライン <script> に、ボタン操作、画面遷移、パーティクル演出（勝利時の紙吹雪など）のロジックが書かれています。
開発メモ: 画面の見た目やエフェクト、ボタンの配置を変えたい場合はここを編集します。
blackjack_ui.js

正体: Wasm と JS の 「仲介役（Bridge）」 です。
役割:
blackjack.js (Wasmローダー) を読み込み、初期化します。
C++ の関数（例: 
_hit
）を、JavaScript から bjApi.hit() のように簡単に呼べるようにラップして公開します。
4. ドキュメント (The Law) 📜
迷った時の道しるべです。

SPEC_v1.0.md

正体: 詳細な仕様書。
役割: 「スプリットは何回まで？」「サレンダーの条件は？」といった細かいルールや、C++ が返す JSON の構造（スキーマ）が定義されています。
重要: 開発の指針となる「聖書」的なファイルです。
README.md

正体: プロジェクトの表紙。デモURLなどが書かれています。
🔄 開発ワークフロー
ロジックを変えたい時

BlackJack.cpp
 を編集 → 
./build_v2.sh
 でビルド → ブラウザで確認。
見た目を変えたい時

index.html
 を編集 → ブラウザをリロード（ビルド不要）。
新しいアクションを追加したい時

SPEC_v1.0.md
 で仕様策定 → 
BlackJack.cpp
 に実装 → 
build_v2.sh
 → 
blackjack_ui.js
 で関数公開 → 
index.html
 にボタン追加。
これで準備完了です！開発を楽しんでください！🚀